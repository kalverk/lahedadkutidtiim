function login(e){if(!init){window.fbAsyncInit()}FB.login(function(e){if(e.authResponse){FB.api("/me",function(e){closeLoginForm();enableLegend();$("#login-windowid").text("Log out");document.getElementById("login-windowid").setAttribute("onClick","javascript: logout();");$("#login-windowid").attr("href","#")})}},{perms:""})}function showLoginForm(e){var t=$(e).attr("href");$(t).fadeIn(300);var n=($(t).height()+24)/2;var r=($(t).width()+24)/2;$(t).css({"margin-top":-n,"margin-left":-r});$("body").append('<div id="mask"></div>');$("#mask").fadeIn(300);return false}function closeLoginForm(){$("#mask , .login-popup").fadeOut(300,function(){$("#mask").remove()});return false}function logout(){FB.logout(function(e){});$("#login-windowid").text("Log in");document.getElementById("login-windowid").setAttribute("onClick","javascript: showLoginForm('a.login-window');");$("#login-windowid").attr("href","#login-box")}function initialize(){function n(e){if(e===true){alert("Geolocation service failed");initialLocation=liivi}else{alert("Browser does not support geolocation.");initialLocation=liivi}map.setCenter(initialLocation)}var e=document.getElementById("main-content");var t={zoom:14,mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(e,t);if(navigator.geolocation){browserSupportFlag=true;navigator.geolocation.getCurrentPosition(function(e){initialLocation=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);map.setCenter(initialLocation)},function(){n(browserSupportFlag)})}else{browserSupportFlag=false;n(browserSupportFlag)}forceToAddLocation=false;showLegend()}function showLegend(){var e=document.getElementById("legend");var t=document.createElement("div");t.innerHTML='<label class="legend-label">Add locations</label><input type="image" id="marker" src="images/iconsB/marker.png" class="marker" onclick="checkLoginStatus()"></input>'+'<label id ="count" class="legend-label">Points on map: 0</label>';e.appendChild(t);map.controls[google.maps.ControlPosition.RIGHT_TOP].push(document.getElementById("legend"))}function checkLoginStatus(){FB.getLoginStatus(function(e){if(e.status=="connected"){addPlaces(map.getCenter(),true,true,true)}else{showLoginForm("a.login-window");forceToAddLocation=true}})}function enableLegend(){if(forceToAddLocation){addPlaces(map.getCenter(),true,true,true)}document.getElementById("marker").setAttribute("onClick","javascript: addPlaces(map.getCenter(), true, true, true);");google.maps.event.addListener(map,"rightclick",function(e){addPlaces(e.latLng,true,true,true)})}function toMap(e,t){if(markersArray){for(var n=0;n<markersArray.length;n++){markersArray[n].setMap(null)}markersArray=[]}addToMap(e);getCount(t);doPoll(t)}function addToMap(e){var t=e.split("|");for(var n=0;n<t.length;n++){if(!t[n]||t[n]===""){break}else{var r=JSON.parse(t[n]);var i=r.location;var s=i.split(",");var o=parseFloat(s[0].trim());var u=parseFloat(s[1].trim());var a=r.id;markerToMap(a,o,u)}}}function getCount(e){$.get("KaartServlet",{method:"getCategoryCount",category:e},function(e){toCount(e)})}function toCount(e){document.getElementById("count").innerHTML="Points on map: "+e}function doPoll(e){if(markersArray){var t=markersArray[markersArray.length-1];var n=marker.get("id")}interval=setInterval(function(){$.get("KaartServlet",{method:"findUpdates",category:e,lastid:n},function(e){addToMap(e)})},6e4)}function breakInterval(){clearInterval(interval)}function markerToMap(e,t,n){var r=new google.maps.LatLng(t,n);marker=new google.maps.Marker({position:r,map:map});marker.set("id",e);listenMarker(marker);markersArray.push(marker)}function listenMarker(e){google.maps.event.addListener(e,"click",function(t){$.get("KaartServlet",{method:"getPointDescription",id:this.get("id")},function(t){var n=t.split("|");var r=JSON.parse(n[0]);var i=r.id;var s=r.name;var o=r.description;var u=r.link;var a=geocode(r.location);var f='<div class="marker-desc"><div class="marker-desc-win"><span><h1 id="pointName">'+s+'</h1><p><div class="marker-desc-edit"><label><span>Description :</span><label id="pointDescription">'+o+'</label></label><label><span>Address :</span><label id="pointLocation">'+a+"</label></label>";var l=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;if(l.test(u)){var c=u;var h=s;f+='<label><span>Link :</span><label id="pointLink"><a href="'+c+'">'+h+"</a></label></label>"}f+="</div></p></span></div></div>";var p=new google.maps.InfoWindow;p.setContent(f);p.open(map,e)})})}function geocode(e){var t=point.location.split(",",2);var n=parseFloat(t[0]);var r=parseFloat(t[1]);var i=new google.maps.LatLng(n,r);var s=new google.maps.Geocoder;s.geocode({latLng:e},function(t,n){if(n==google.maps.GeocoderStatus.OK){if(t[1]){var r=t[1].formatted_address}else{var r=e}}return r})}function addPlaces(e,t,n,r){var i="Add new location";var s='<p><div class="marker-edit">'+'<form action="" method="POST" name="SaveMarker" id="SaveMarker">'+'<label for="pName"><span>Place Name :</span><input type="text" name="pName" class="save-name" placeholder="Enter title" maxlength="40" /></label>'+'<label for="pDesc"><span>Description :</span><textarea name="pDesc" class="save-desc" placeholder="Enter description" maxlength="250"></textarea></label>'+'<label for="pLink"><span>Website :</span><input type="text" name="pLink" class="save-link" placeholder="Enter website" maxlength="40" /></label>'+'<label for="pType"><span>Categories :</span>'+"<table>"+"<tr>"+'<td><input type="checkbox" name="category" value="football">Football</td>'+'<td><input type="checkbox" name="category" value="basketball">Basketball</td>'+"</tr>"+"<tr>"+'<td><input type="checkbox" name="category" value="volleyball">Volleyball</td>'+'<td><input type="checkbox" name="category" value="tennis">Tennis</td>'+"</tr>"+"<tr>"+'<td><input type="checkbox" name="category" value="bowling">Bowling</td>'+'<td><input type="checkbox" name="category" value="golf">Golf</td>'+"</tr>"+"<tr>"+'<td><input type="checkbox" name="category" value="hockey">Hockey</td>'+'<td><input type="checkbox" name="category" value="baseball">Baseball</td>'+"</tr>"+"<tr>"+'<td><input type="checkbox" name="category" value="crosscountry">Crosscountry</td>'+'<td><input type="checkbox" name="category" value="iceskating">Iceskating</td>'+"</tr>"+"<tr>"+'<td><input type="checkbox" name="category" value="snowboard">Snowboard</td>'+'<td><input type="checkbox" name="category" value="skateboard">Skateboard</td>'+"</tr>"+"<tr>"+'<td><input type="checkbox" name="category" value="archery">Archery</td>'+'<td><input type="checkbox" name="category" value="bicycle">Bicycle</td>'+"</tr>"+"<tr>"+'<td><input type="checkbox" name="category" value="camping">Camping</td>'+'<td><input type="checkbox" name="category" value="diving">Diving</td>'+"</tr>"+"<tr>"+'<td><input type="checkbox" name="category" value="rowing">Rowing</td>'+'<td><input type="checkbox" name="category" value="rollerskating">Rollerskating</td>'+"</tr>"+"<tr>"+'<td><input type="checkbox" name="category" value="swimming">Swimming</td>'+'<td><input type="checkbox" name="category" value="gym">Gym</td>'+"</tr>"+"<tr>"+'<td><input type="checkbox" name="category" value="running">Running</td>'+"</tr>"+"</table>"+"</form>"+'</div></p><button name="save-marker" class="save-marker">Save Marker</button>';var o=new google.maps.Marker({position:e,map:map,draggable:n,animation:google.maps.Animation.DROP,title:i});markersArray.push(o);var u=$('<div class="marker-info-win">'+'<div class="marker-inner-win"><span class="info-content">'+'<h1 class="marker-heading">'+i+"</h1>"+s+'</span><button name="remove-marker" class="remove-marker" title="Remove Marker">Remove Marker</button>'+"</div></div>");var a=new google.maps.InfoWindow;a.setContent(u[0]);var f=u.find("button.remove-marker")[0];var l=u.find("button.save-marker")[0];google.maps.event.addDomListener(f,"click",function(e){removeMarker(o)});google.maps.event.addDomListener(l,"click",function(e){var t=$("input:checked").map(function(){return this.value}).get().join();var n=$('input[name="pName"]').val();var r=$('textarea[name="pDesc"]').val();var i=$('input[name="pLink"]').val();var s=o.getPosition().toString();var u=$('<div class="marker-desc">'+'<div class="marker-desc-win"><span>'+'<h1 id="pointName">'+n+"</h1><p>"+'<div class="marker-desc-edit">'+"<label><span>Description :</span>"+'<label id="pointDescription">'+r+"</label>"+"</label>"+"<label><span>Address :</span>"+'<label id="pointLocation">'+s+"</label>"+"</label>"+" <label><span>Link :</span>"+' <label id="pointLink">'+i+"</label>"+"</label>"+"</div>"+" </p>"+" </span>"+"</div>"+"</div>");$.get("KaartServlet",{method:"insertNewPoint",name:n,desc:r,link:i,categories:t,location:s},function(e){a.setContent(u[0])})});google.maps.event.addListener(o,"click",function(){a.open(map,o)});a.open(map,o)}function removeMarker(e){if(e.getDraggable()){e.setMap(null)}}function adjustStyle(e){e=parseInt(e);if(e<701){$("#size-stylesheet").attr("href","css/small.css")}else if(e>=702&&e<1224){$("#size-stylesheet").attr("href","css/medium.css")}else{$("#size-stylesheet").attr("href","css/large.css")}}function handleChange(e){var t=["football","basketball","volleyball","tennis","tabletennis","pool","bowling","golf","hockey","baseball","crosscountry","iceskating","snowboard","skatepark","archery","bicycle","camping","diving","rowing","skating","swimming","running","gym"];if(e.pathNames[0]=="login-box"){showLoginForm("a.login-window")}else if($.inArray(e.pathNames[0],t)>=0){getInfo(e.pathNames[0]);closeLoginForm()}else{closeLoginForm()}}function getInfo(e){breakInterval();$.get("KaartServlet",{method:"findByCategory",category:e},function(t){toMap(t,e)})}if(typeof asual=="undefined"){var asual={}}if(typeof asual.util=="undefined"){asual.util={}}asual.util.Browser=new function(){var e=navigator.userAgent.toLowerCase(),t=/webkit/.test(e),n=/opera/.test(e),r=/msie/.test(e)&&!/opera/.test(e),i=/mozilla/.test(e)&&!/(compatible|webkit)/.test(e),s=parseFloat(r?e.substr(e.indexOf("msie")+4):(e.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1]);this.toString=function(){return"[class Browser]"};this.getVersion=function(){return s};this.isMSIE=function(){return r};this.isSafari=function(){return t};this.isOpera=function(){return n};this.isMozilla=function(){return i}};asual.util.Events=new function(){var e="DOMContentLoaded",t="onstop",n=window,r=document,i=[],s=asual.util,o=s.Browser,u=o.isMSIE(),a=o.isSafari();this.toString=function(){return"[class Events]"};this.addListener=function(t,n,r){i.push({o:t,t:n,l:r});if(!(n==e&&(u||a))){if(t.addEventListener){t.addEventListener(n,r,false)}else{if(t.attachEvent){t.attachEvent("on"+n,r)}}}};this.removeListener=function(t,n,r){for(var s=0,o;o=i[s];s++){if(o.o==t&&o.t==n&&o.l==r){i.splice(s,1);break}}if(!(n==e&&(u||a))){if(t.removeEventListener){t.removeEventListener(n,r,false)}else{if(t.detachEvent){t.detachEvent("on"+n,r)}}}};var f=function(){for(var t=0,n;n=i[t];t++){if(n.t!=e){s.Events.removeListener(n.o,n.t,n.l)}}};var l=function(){if(r.readyState=="interactive"){function e(){r.detachEvent(t,e);f()}r.attachEvent(t,e);n.setTimeout(function(){r.detachEvent(t,e)},0)}};if(u||a){(function(){try{if(u&&r.body||!/loaded|complete/.test(r.readyState)){r.documentElement.doScroll("left")}}catch(t){return setTimeout(arguments.callee,0)}for(var n=0,t;t=i[n];n++){if(t.t==e){t.l.call(null)}}})()}if(u){n.attachEvent("onbeforeunload",l)}this.addListener(n,"unload",f)};asual.util.Functions=new function(){this.toString=function(){return"[class Functions]"};this.bind=function(e,t,n){for(var r=2,i,s=[];i=arguments[r];r++){s.push(i)}return function(){return e.apply(t,s)}}};var SWFAddressEvent=function(e){this.toString=function(){return"[object SWFAddressEvent]"};this.type=e;this.target=[SWFAddress][0];this.value=SWFAddress.getValue();this.path=SWFAddress.getPath();this.pathNames=SWFAddress.getPathNames();this.parameters={};var t=SWFAddress.getParameterNames();for(var n=0,r=t.length;n<r;n++){this.parameters[t[n]]=SWFAddress.getParameter(t[n])}this.parameterNames=t};SWFAddressEvent.INIT="init";SWFAddressEvent.CHANGE="change";SWFAddressEvent.INTERNAL_CHANGE="internalChange";SWFAddressEvent.EXTERNAL_CHANGE="externalChange";var SWFAddress=new function(){var _getHash=function(){var e=_l.href.indexOf("#");return e!=-1?_ec(_dc(_l.href.substr(e+1))):""};var _getWindow=function(){try{top.document;return top}catch(e){return window}};var _strictCheck=function(e,t){if(_opts.strict){e=t?e.substr(0,1)!="/"?"/"+e:e:e==""?"/":e}return e};var _ieLocal=function(e,t){return _msie&&_l.protocol=="file:"?t?_value.replace(/\?/,"%3F"):_value.replace(/%253F/,"?"):e};var _searchScript=function(e){if(e.childNodes){for(var t=0,n=e.childNodes.length,r;t<n;t++){if(e.childNodes[t].src){_url=String(e.childNodes[t].src)}if(r=_searchScript(e.childNodes[t])){return r}}}};var _titleCheck=function(){if(_d.title!=_title&&_d.title.indexOf("#")!=-1){_d.title=_title}};var _listen=function(){if(!_silent){var e=_getHash();var t=!(_value==e);if(_safari&&_version<523){if(_length!=_h.length){_length=_h.length;if(typeof _stack[_length-1]!=UNDEFINED){_value=_stack[_length-1]}_update.call(this,false)}}else{if(_msie&&t){if(_version<7){_l.reload()}else{this.setValue(e)}}else{if(t){_value=e;_update.call(this,false)}}}if(_msie){_titleCheck.call(this)}}};var _bodyClick=function(e){if(_popup.length>0){var popup=window.open(_popup[0],_popup[1],eval(_popup[2]));if(typeof _popup[3]!=UNDEFINED){eval(_popup[3])}}_popup=[]};var _swfChange=function(){for(var e=0,t,n,r=SWFAddress.getValue(),i="setSWFAddressValue";t=_ids[e];e++){n=document.getElementById(t);if(n){if(n.parentNode&&typeof n.parentNode.so!=UNDEFINED){n.parentNode.so.call(i,r)}else{if(!(n&&typeof n[i]!=UNDEFINED)){var s=n.getElementsByTagName("object");var o=n.getElementsByTagName("embed");n=s[0]&&typeof s[0][i]!=UNDEFINED?s[0]:o[0]&&typeof o[0][i]!=UNDEFINED?o[0]:null}if(n){n[i](r)}}}else{if(n=document[t]){if(typeof n[i]!=UNDEFINED){n[i](r)}}}}};var _jsDispatch=function(e){this.dispatchEvent(new SWFAddressEvent(e));e=e.substr(0,1).toUpperCase()+e.substr(1);if(typeof this["on"+e]==FUNCTION){this["on"+e]()}};var _jsInit=function(){if(_util.Browser.isSafari()){_d.body.addEventListener("click",_bodyClick)}_jsDispatch.call(this,"init")};var _jsChange=function(){_swfChange();_jsDispatch.call(this,"change")};var _update=function(e){_jsChange.call(this);if(e){_jsDispatch.call(this,"internalChange")}else{_jsDispatch.call(this,"externalChange")}_st(_functions.bind(_track,this),10)};var _track=function(){var e=(_l.pathname+(/\/$/.test(_l.pathname)?"":"/")+this.getValue()).replace(/\/\//,"/").replace(/^\/$/,"");var t=_t[_opts.tracker];if(typeof t==FUNCTION){t(e)}else{if(typeof _t.pageTracker!=UNDEFINED&&typeof _t.pageTracker._trackPageview==FUNCTION){_t.pageTracker._trackPageview(e)}else{if(typeof _t.urchinTracker==FUNCTION){_t.urchinTracker(e)}}}};var _htmlWrite=function(){var e=_frame.contentWindow.document;e.open();e.write("<html><head><title>"+_d.title+"</title><script>var "+ID+' = "'+_getHash()+'";</script></head></html>');e.close()};var _htmlLoad=function(){var e=_frame.contentWindow;var t=e.location.href;_value=typeof e[ID]!=UNDEFINED?e[ID]:"";if(_value!=_getHash()){_update.call(SWFAddress,false);_l.hash=_ieLocal(_value,TRUE)}};var _load=function(){if(!_loaded){_loaded=TRUE;if(_msie&&_version<8){var e=_d.getElementsByTagName("frameset")[0];_frame=_d.createElement((e?"":"i")+"frame");if(e){e.insertAdjacentElement("beforeEnd",_frame);e[e.cols?"cols":"rows"]+=",0";_frame.src="javascript:false";_frame.noResize=true;_frame.frameBorder=_frame.frameSpacing=0}else{_frame.src="javascript:false";_frame.style.display="none";_d.body.insertAdjacentElement("afterBegin",_frame)}_st(function(){_events.addListener(_frame,"load",_htmlLoad);if(typeof _frame.contentWindow[ID]==UNDEFINED){_htmlWrite()}},50)}else{if(_safari){if(_version<418){_d.body.innerHTML+='<form id="'+ID+'" style="position:absolute;top:-9999px;" method="get"></form>';_form=_d.getElementById(ID)}if(typeof _l[ID]==UNDEFINED){_l[ID]={}}if(typeof _l[ID][_l.pathname]!=UNDEFINED){_stack=_l[ID][_l.pathname].split(",")}}}_st(_functions.bind(function(){_jsInit.call(this);_jsChange.call(this);_track.call(this)},this),1);if(_msie&&_version>=8){_d.body.onhashchange=_functions.bind(_listen,this);_si(_functions.bind(_titleCheck,this),50)}else{_si(_functions.bind(_listen,this),50)}}};var ID="swfaddress",FUNCTION="function",UNDEFINED="undefined",TRUE=true,FALSE=false,_util=asual.util,_browser=_util.Browser,_events=_util.Events,_functions=_util.Functions,_version=_browser.getVersion(),_msie=_browser.isMSIE(),_mozilla=_browser.isMozilla(),_opera=_browser.isOpera(),_safari=_browser.isSafari(),_supported=FALSE,_t=_getWindow(),_d=_t.document,_h=_t.history,_l=_t.location,_si=setInterval,_st=setTimeout,_dc=decodeURI,_ec=encodeURI,_frame,_form,_url,_title=_d.title,_length=_h.length,_silent=FALSE,_loaded=FALSE,_justset=TRUE,_juststart=TRUE,_ref=this,_stack=[],_ids=[],_popup=[],_listeners={},_value=_getHash(),_opts={history:TRUE,strict:TRUE};if(_msie&&_d.documentMode&&_d.documentMode!=_version){_version=_d.documentMode!=8?7:8}_supported=_mozilla&&_version>=1||_msie&&_version>=6||_opera&&_version>=9.5||_safari&&_version>=312;if(_supported){if(_opera){history.navigationMode="compatible"}for(var i=1;i<_length;i++){_stack.push("")}_stack.push(_getHash());if(_msie&&_l.hash!=_getHash()){_l.hash="#"+_ieLocal(_getHash(),TRUE)}_searchScript(document);var _qi=_url?_url.indexOf("?"):-1;if(_qi!=-1){var param,params=_url.substr(_qi+1).split("&");for(var i=0,p;p=params[i];i++){param=p.split("=");if(/^(history|strict)$/.test(param[0])){_opts[param[0]]=isNaN(param[1])?/^(true|yes)$/i.test(param[1]):parseInt(param[1])!=0}if(/^tracker$/.test(param[0])){_opts[param[0]]=param[1]}}}if(_msie){_titleCheck.call(this)}if(window==_t){_events.addListener(document,"DOMContentLoaded",_functions.bind(_load,this))}_events.addListener(_t,"load",_functions.bind(_load,this))}else{if(!_supported&&_l.href.indexOf("#")!=-1||_safari&&_version<418&&_l.href.indexOf("#")!=-1&&_l.search!=""){_d.open();_d.write('<html><head><meta http-equiv="refresh" content="0;url='+_l.href.substr(0,_l.href.indexOf("#"))+'" /></head></html>');_d.close()}else{_track()}}this.toString=function(){return"[class SWFAddress]"};this.back=function(){_h.back()};this.forward=function(){_h.forward()};this.up=function(){var e=this.getPath();this.setValue(e.substr(0,e.lastIndexOf("/",e.length-2)+(e.substr(e.length-1)=="/"?1:0)))};this.go=function(e){_h.go(e)};this.href=function(e,t){t=typeof t!=UNDEFINED?t:"_self";if(t=="_self"){self.location.href=e}else{if(t=="_top"){_l.href=e}else{if(t=="_blank"){window.open(e)}else{_t.frames[t].location.href=e}}}};this.popup=function(url,name,options,handler){try{var popup=window.open(url,name,eval(options));if(typeof handler!=UNDEFINED){eval(handler)}}catch(ex){}_popup=arguments};this.getIds=function(){return _ids};this.getId=function(e){return _ids[0]};this.setId=function(e){_ids[0]=e};this.addId=function(e){this.removeId(e);_ids.push(e)};this.removeId=function(e){for(var t=0;t<_ids.length;t++){if(e==_ids[t]){_ids.splice(t,1);break}}};this.addEventListener=function(e,t){if(typeof _listeners[e]==UNDEFINED){_listeners[e]=[]}_listeners[e].push(t)};this.removeEventListener=function(e,t){if(typeof _listeners[e]!=UNDEFINED){for(var n=0,r;r=_listeners[e][n];n++){if(r==t){break}}_listeners[e].splice(n,1)}};this.dispatchEvent=function(e){if(this.hasEventListener(e.type)){e.target=this;for(var t=0,n;n=_listeners[e.type][t];t++){n(e)}return TRUE}return FALSE};this.hasEventListener=function(e){return typeof _listeners[e]!=UNDEFINED&&_listeners[e].length>0};this.getBaseURL=function(){var e=_l.href;if(e.indexOf("#")!=-1){e=e.substr(0,e.indexOf("#"))}if(e.substr(e.length-1)=="/"){e=e.substr(0,e.length-1)}return e};this.getStrict=function(){return _opts.strict};this.setStrict=function(e){_opts.strict=e};this.getHistory=function(){return _opts.history};this.setHistory=function(e){_opts.history=e};this.getTracker=function(){return _opts.tracker};this.setTracker=function(e){_opts.tracker=e};this.getTitle=function(){return _d.title};this.setTitle=function(e){if(!_supported){return null}if(typeof e==UNDEFINED){return}if(e=="null"){e=""}e=_dc(e);_st(function(){_title=_d.title=e;if(_juststart&&_frame&&_frame.contentWindow&&_frame.contentWindow.document){_frame.contentWindow.document.title=e;_juststart=FALSE}if(!_justset&&_mozilla){_l.replace(_l.href.indexOf("#")!=-1?_l.href:_l.href+"#")}_justset=FALSE},10)};this.getStatus=function(){return _t.status};this.setStatus=function(e){if(!_supported){return null}if(typeof e==UNDEFINED){return}if(e=="null"){e=""}e=_dc(e);if(!_safari){e=_strictCheck(e!="null"?e:"",TRUE);if(e=="/"){e=""}if(!/http(s)?:\/\//.test(e)){var t=_l.href.indexOf("#");e=(t==-1?_l.href:_l.href.substr(0,t))+"#"+e}_t.status=e}};this.resetStatus=function(){_t.status=""};this.getValue=function(){if(!_supported){return null}return _dc(_strictCheck(_ieLocal(_value,FALSE),FALSE))};this.setValue=function(e){if(!_supported){return null}if(typeof e==UNDEFINED){return}if(e=="null"){e=""}e=_ec(_dc(_strictCheck(e,TRUE)));if(e=="/"){e=""}if(_value==e){return}_justset=TRUE;_value=e;_silent=TRUE;_update.call(SWFAddress,true);_stack[_h.length]=_value;if(_safari){if(_opts.history){_l[ID][_l.pathname]=_stack.toString();_length=_h.length+1;if(_version<418){if(_l.search==""){_form.action="#"+_value;_form.submit()}}else{if(_version<523||_value==""){var t=_d.createEvent("MouseEvents");t.initEvent("click",TRUE,TRUE);var n=_d.createElement("a");n.href="#"+_value;n.dispatchEvent(t)}else{_l.hash="#"+_value}}}else{_l.replace("#"+_value)}}else{if(_value!=_getHash()){if(_opts.history){_l.hash="#"+_dc(_ieLocal(_value,TRUE))}else{_l.replace("#"+_dc(_value))}}}if(_msie&&_version<8&&_opts.history){_st(_htmlWrite,50)}if(_safari){_st(function(){_silent=FALSE},1)}else{_silent=FALSE}};this.getPath=function(){var e=this.getValue();if(e.indexOf("?")!=-1){return e.split("?")[0]}else{if(e.indexOf("#")!=-1){return e.split("#")[0]}else{return e}}};this.getPathNames=function(){var e=this.getPath(),t=e.split("/");if(e.substr(0,1)=="/"||e.length==0){t.splice(0,1)}if(e.substr(e.length-1,1)=="/"){t.splice(t.length-1,1)}return t};this.getQueryString=function(){var e=this.getValue(),t=e.indexOf("?");if(t!=-1&&t<e.length){return e.substr(t+1)}};this.getParameter=function(e){var t=this.getValue();var n=t.indexOf("?");if(n!=-1){t=t.substr(n+1);var r,i=t.split("&"),s=i.length,o=[];while(s--){r=i[s].split("=");if(r[0]==e){o.push(r[1])}}if(o.length!=0){return o.length!=1?o:o[0]}}};this.getParameterNames=function(){var e=this.getValue();var t=e.indexOf("?");var n=[];if(t!=-1){e=e.substr(t+1);if(e!=""&&e.indexOf("=")!=-1){var r=e.split("&"),i=0;while(i<r.length){n.push(r[i].split("=")[0]);i++}}}return n};this.onInit=null;this.onChange=null;this.onInternalChange=null;this.onExternalChange=null;(function(){var e;if(typeof FlashObject!=UNDEFINED){SWFObject=FlashObject}if(typeof SWFObject!=UNDEFINED&&SWFObject.prototype&&SWFObject.prototype.write){var t=SWFObject.prototype.write;SWFObject.prototype.write=function(){e=arguments;if(this.getAttribute("version").major<8){this.addVariable("$swfaddress",SWFAddress.getValue());(typeof e[0]=="string"?document.getElementById(e[0]):e[0]).so=this}var n;if(n=t.apply(this,e)){_ref.addId(this.getAttribute("id"))}return n}}if(typeof swfobject!=UNDEFINED){var n=swfobject.registerObject;swfobject.registerObject=function(){e=arguments;n.apply(this,e);_ref.addId(e[0])};var r=swfobject.createSWF;swfobject.createSWF=function(){e=arguments;var t=r.apply(this,e);if(t){_ref.addId(e[0].id)}return t};var i=swfobject.embedSWF;swfobject.embedSWF=function(){e=arguments;if(typeof e[8]==UNDEFINED){e[8]={}}if(typeof e[8].id==UNDEFINED){e[8].id=e[1]}i.apply(this,e);_ref.addId(e[8].id)}}if(typeof UFO!=UNDEFINED){var s=UFO.create;UFO.create=function(){e=arguments;s.apply(this,e);_ref.addId(e[0].id)}}if(typeof AC_FL_RunContent!=UNDEFINED){var o=AC_FL_RunContent;AC_FL_RunContent=function(){e=arguments;o.apply(this,e);for(var t=0,n=e.length;t<n;t++){if(e[t]=="id"){_ref.addId(e[t+1])}}}}})()};init=false;window.fbAsyncInit=function(){FB.init({appId:"274740106025651",status:true,cookie:true,xfbml:true});init=true};(function(e){var t,n="facebook-jssdk",r=e.getElementsByTagName("script")[0];if(e.getElementById(n)){return}t=e.createElement("script");t.id=n;t.async=true;t.src="//connect.facebook.net/en_US/all.js";r.parentNode.insertBefore(t,r)})(document);var initialLocation;var browserSupportFlag=new Boolean;var liivi=new google.maps.LatLng(58.37824850000001,26.71467329999996);var map;var markersArray=[];var forceToAddLocation;var interval;google.maps.event.addDomListener(window,"load",initialize);$(function(){adjustStyle($(this).width());$(window).resize(function(){adjustStyle($(this).width())})});$(document).ready(function(){$(window).resize()});$(window).resize(function(){var e=$(this).height()-$("#header").height()-30;var t=$(this).width()-20;$("#main-content").height(e);$("#main-content").width(t)});SWFAddress.addEventListener(SWFAddressEvent.CHANGE,handleChange);$(document).ready(function(){$("#navigation input").click(function(e){var t=$(this).attr("id");var n="#"+$(this).attr("id");window.history.pushState(t,"Spordikaart",n)})})